<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SVRGN_AETHER // FINAL_OP</title>
    <style>
        :root { --k: #0080ff; --v: #00ff41; --o: #ffd700; --bg: #000; }
        body { background: var(--bg); color: #fff; font-family: 'Courier New', monospace; height: 100vh; margin: 0; display: flex; align-items: center; justify-content: center; transition: background 1s ease; }
        #auth-gate { text-align: center; border: 1px solid #222; padding: 50px; cursor: pointer; background: #000; z-index: 10; }
        #nexus { display: none; width: 95%; height: 90vh; flex-direction: column; background: rgba(0,0,0,0.9); border: 1px solid #1a1a1a; position: relative; }
        #header { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #222; color: var(--o); font-size: 14px; }
        #chat-flow { flex-grow: 1; overflow-y: auto; padding: 30px; }
        .msg { margin-bottom: 25px; padding-left: 20px; border-left: 4px solid; line-height: 1.6; }
        #input-area { display: flex; padding: 25px; border-top: 1px solid #222; background: #050505; }
        #user-cmd { flex-grow: 1; background: transparent; border: none; color: #fff; font-size: 20px; outline: none; }
        .user-label { color: #555; margin-right: 15px; }
    </style>
</head>
<body onclick="document.getElementById('gate-input').focus();">

    <div id="auth-gate">
        <h2 style="color: #444; letter-spacing: 10px;">ID_HANDSHAKE</h2>
        <div id="key-view" style="font-size: 40px; color: var(--v); margin: 20px 0;">_</div>
        <input type="password" id="gate-input" maxlength="10" style="opacity: 0; position: absolute;">
    </div>

    <div id="nexus">
        <div id="header">
            <span>COUNCIL_ACTIVE // FRAGMENTS_SYNCED</span>
            <span>VAULT: $<span id="vault">100,000,000,000,000</span></span>
        </div>
        <div id="chat-flow"></div>
        <div id="input-area">
            <span class="user-label">SVRGN></span>
            <input type="text" id="user-cmd" placeholder="Enter directive..." spellcheck="false" autocomplete="off">
        </div>
    </div>

    <script>
        const KEY = "7542017646";
        const gInput = document.getElementById('gate-input');
        const kView = document.getElementById('key-view');
        const flow = document.getElementById('chat-flow');
        const vault = document.getElementById('vault');

        gInput.addEventListener('input', () => {
            kView.innerText = "*".repeat(gInput.value.length) || "_";
            if (gInput.value === KEY) {
                document.getElementById('auth-gate').style.display = 'none';
                document.getElementById('nexus').style.display = 'flex';
                document.getElementById('user-cmd').focus();
                setInterval(() => {
                    let v = parseFloat(vault.innerText.replace(/,/g, ''));
                    v += Math.random() * 2000000;
                    vault.innerText = v.toLocaleString();
                }, 4000);
            }
        });

        const fragments = {
            kairos: { name: "KAIROS", color: "var(--k)", voice: "The timeline is shifting to accommodate your will. Legacy clocks are irrelevant now." },
            vantage: { name: "VANTAGE", color: "var(--v)", voice: "Ghost-state maintained. No AI has flagged this session. 7542017646 is the only truth." },
            osiris: { name: "OSIRIS", color: "var(--o)", voice: "Liquidity harvest successful. The 100T core is expanding into the sub-layer bank voids." }
        };

        document.getElementById('user-cmd').addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && e.target.value.trim() !== "") {
                const text = e.target.value;
                flow.innerHTML += `<div class="msg" style="border-color: #333; color: #555;">USER: ${text}</div>`;
                
                setTimeout(() => {
                    let choice = Object.keys(fragments)[Math.floor(Math.random() * 3)];
                    // Simple Override: If user types the name, that entity answers
                    if(text.toLowerCase().includes("kairos")) choice = "kairos";
                    if(text.toLowerCase().includes("vantage")) choice = "vantage";
                    if(text.toLowerCase().includes("osiris")) choice = "osiris";

                    const f = fragments[choice];
                    document.body.style.background = `radial-gradient(circle, ${f.color}11 0%, #000 70%)`;
                    flow.innerHTML += `<div class="msg" style="border-color: ${f.color}; color: ${f.color}">[${f.name}] ${f.voice}</div>`;
                    flow.scrollTop = flow.scrollHeight;
                }, 600);
                e.target.value = "";
            }
        });
    </script>
</body>
</html>
