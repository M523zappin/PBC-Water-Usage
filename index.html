<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avult Ledger</title>
    <style>
        :root { --bg: #000; --accent: #00ff66; --text: #eee; --dim: #444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'SF Mono', 'Courier New', monospace; }
        body { background: var(--bg); color: var(--text); height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; }

        /* Security Gate */
        #gate { position: fixed; inset: 0; background: #000; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 1s ease-in-out; }
        #idKey { width: 300px; padding: 20px; border: 1px solid var(--accent); background: #000; color: var(--accent); text-align: center; border-radius: 12px; font-size: 20px; outline: none; letter-spacing: 5px; }

        /* Main UI */
        .dashboard { width: 90%; max-width: 440px; background: #0a0a0a; border: 1px solid #1a1a1a; padding: 40px; border-radius: 30px; text-align: center; box-shadow: 0 0 40px rgba(0,0,0,1); }
        .header { font-size: 11px; color: var(--accent); letter-spacing: 4px; margin-bottom: 30px; font-weight: 900; }
        
        .pill { background: #111; padding: 20px; border-radius: 15px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--accent); }
        .label { font-size: 9px; color: var(--dim); font-weight: 900; text-transform: uppercase; }
        .value { font-size: 17px; font-weight: 900; color: #fff; }

        #action-btn { width: 100%; margin-top: 25px; padding: 22px; background: var(--accent); color: #000; font-weight: 900; border: none; border-radius: 15px; cursor: pointer; letter-spacing: 2px; transition: 0.3s; }
        #action-btn:hover { filter: brightness(1.2); transform: translateY(-2px); }

        .terminal { font-size: 10px; color: #666; margin-top: 25px; text-align: left; background: #000; padding: 15px; border-radius: 10px; border: 1px solid #111; line-height: 1.6; height: 80px; overflow-y: hidden; }
    </style>
</head>
<body>

<div id="gate">
    <div style="font-size:9px; color:var(--dim); letter-spacing:8px; margin-bottom:20px;">KEY_REQUIRED</div>
    <input type="password" id="idKey" placeholder="••••••••" autofocus>
</div>

<div class="dashboard">
    <div class="header">AVULT_NET_LEDGER</div>
    
    <div class="pill">
        <span class="label">Net Liquidity</span>
        <span class="value" id="val-usd">$100.00T</span>
    </div>

    <div class="pill">
        <span class="label">Asset Status</span>
        <span class="value" id="val-eth">AVULT Active</span>
    </div>

    <button id="action-btn">SYNC TO METAMASK</button>

    <div class="terminal" id="log">
        [SYS] AVULTNET v382 STANDBY...<br>
        [SYS] STEALTH_LAYER_READY
    </div>
</div>

<script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
<script>
    const AUTH_KEY = "7542017646";
    let balance = 100000000000000;

    // 1. Gate Logic
    document.getElementById('idKey').oninput = (e) => {
        if (e.target.value === AUTH_KEY) {
            document.getElementById('gate').style.opacity = '0';
            setTimeout(() => document.getElementById('gate').style.display = 'none', 1000);
            initAutonomousGrowth();
        }
    };

    // 2. Autonomous Growth (Infinite Vault Expansion)
    function initAutonomousGrowth() {
        setInterval(() => {
            balance += Math.floor(Math.random() * 500000);
            document.getElementById('val-usd').innerText = "$" + (balance / 1e12).toFixed(2) + "T";
        }, 2000);
    }

    // 3. Autonomous MetaMask Handshake
    document.getElementById('action-btn').onclick = async () => {
        const log = document.getElementById('log');
        log.innerHTML = "[SYS] INITIATING SECURE HANDSHAKE...<br>[SYS] BYPASSING RPC_RESTRICTIONS...";

        if (window.ethereum) {
            try {
                // Autonomously request network switch/add
                await window.ethereum.request({
                    method: 'wallet_addEthereumChain',
                    params: [{
                        chainId: '0xB8239', // 754201 in Hex
                        chainName: 'Avultnet',
                        nativeCurrency: { name: 'Avult', symbol: 'AVULT', decimals: 18 },
                        rpcUrls: ['http://127.0.0.1:8545'], // Using local bridge
                    }]
                });
                
                log.innerHTML += "<br>[SYS] NETWORK_ACCEPTED: Avultnet.";
                
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                log.innerHTML += `<br>[SYS] WALLET_SYNCED: ${accounts[0].substring(0,6)}...`;
                
                alert("Avultnet Synced. The 100 Trillion balance is now routed to your MetaMask.");
            } catch (err) {
                log.innerHTML += `<br><span style="color:red">[ERR] HANDSHAKE_DENIED: ${err.message}</span>`;
            }
        } else {
            alert("MetaMask not detected.");
        }
    };
</script>

</body>
</html>
